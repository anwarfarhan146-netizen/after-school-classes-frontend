(function(){"use strict";var e={159:function(e,s,t){var a=t(130),r=t(768),o=t(232);const c={id:"app"},l={class:"navbar navbar-dark bg-primary"},n={class:"container"},i={class:"navbar-text d-flex align-items-center"},d={key:0,class:"me-3"},u={key:0,class:"search-results-badge"},m={key:1,class:"me-3"},k=["disabled"],h={key:0,class:"position-absolute top-0 start-100 translate-middle badge rounded-pill bg-danger"},p={class:"container mt-4"},L={key:0},b={class:"search-sort-controls mb-4"},f={class:"card"},v={class:"card-body"},y={class:"row"},g={class:"col-md-6 mb-3 mb-md-0"},C={class:"input-group"},w={class:"col-md-6"},x={class:"row"},_={class:"col-12 mb-2"},F={class:"col-12"},E={class:"btn-group w-100",role:"group"},S={class:"row mt-3"},T={class:"col-12"},W={key:0,class:"alert alert-info py-2 mb-0"},P={key:0},X={key:0},O={key:1},j={key:0,class:"text-center py-5 no-results-animation"},I={class:"text-muted mb-4"},A={key:1,class:"alert alert-success mb-4"},N={class:"d-flex justify-content-between align-items-center"},q={key:3,class:"row mt-5"},Q={class:"col-12"},B={class:"card bg-light"},R={class:"card-body text-center"},V={class:"row"},$={class:"col-md-3"},D={class:"text-muted mb-0"},U={class:"col-md-3"},J={class:"col-md-3"},z={class:"col-md-3"},K={key:1},H={class:"row mb-4"},M={class:"col-12"},Y={class:"d-flex justify-content-between align-items-center"},Z={class:"row"},G={class:"col-12"},ee={key:0,class:"text-center py-5"},se={key:1},te={class:"card mb-4"},ae={class:"card-header bg-light"},re={class:"mb-0"},oe={class:"card-body p-0"},ce={class:"row align-items-center"},le={class:"col-md-6"},ne={class:"d-flex align-items-center"},ie={class:"mb-1"},de={class:"text-muted mb-1"},ue={class:"text-success mb-0 fw-bold"},me={class:"col-md-3"},ke={class:"d-flex align-items-center"},he={class:"input-group",style:{width:"120px"}},pe=["onClick","disabled"],Le=["value"],be=["onClick"],fe={class:"col-md-3"},ve={class:"d-flex justify-content-between align-items-center"},ye={class:"text-end"},ge={class:"h5 mb-0 text-primary"},Ce={class:"text-muted"},we=["onClick"],xe={class:"card-footer"},_e={class:"row align-items-center"},Fe={class:"col-md-6 text-end"},Ee={class:"h4 mb-2"},Se={class:"text-success"},Te={class:"card"},We={class:"card-body"},Pe={class:"row"},Xe={class:"col-md-6"},Oe={class:"mb-3"},je={key:0,class:"invalid-feedback"},Ie={key:1,class:"form-text"},Ae={class:"mb-3"},Ne={key:0,class:"invalid-feedback"},qe={key:1,class:"form-text"},Qe={class:"col-md-6"},Be={class:"order-summary"},Re={class:"text-muted"},Ve={class:"text-end"},$e={class:"d-flex justify-content-between fw-bold fs-5"},De={class:"text-success"},Ue={class:"row mt-4"},Je={class:"col-12"},ze={class:"d-grid"},Ke=["disabled"],He={key:0,class:"spinner-border spinner-border-sm me-2"},Me={key:1,class:"fas fa-paper-plane me-2"},Ye={key:0,class:"modal fade show d-block",tabindex:"-1",style:{background:"rgba(0,0,0,0.5)"}},Ze={class:"modal-dialog modal-dialog-centered"},Ge={class:"modal-content"},es={class:"modal-body text-center"},ss={class:"mb-1"},ts={class:"mb-1"},as={class:"mb-3"},rs={class:"modal-footer"},os={class:"row mt-3"},cs={class:"col-12"},ls={class:"d-flex gap-2 justify-content-end"};function ns(e,s,t,ns,is,ds){const us=(0,r.g2)("LessonList");return(0,r.uX)(),(0,r.CE)("div",c,[(0,r.Lk)("nav",l,[(0,r.Lk)("div",n,[s[24]||(s[24]=(0,r.Lk)("a",{class:"navbar-brand",href:"#"},[(0,r.Lk)("i",{class:"fas fa-graduation-cap me-2"}),(0,r.eW)(" After School Classes ")],-1)),(0,r.Lk)("div",i,[is.showCartPage?((0,r.uX)(),(0,r.CE)("span",m," Shopping Cart ("+(0,o.v_)(ds.totalItemsInCart)+" items) ",1)):((0,r.uX)(),(0,r.CE)("span",d,[(0,r.eW)((0,o.v_)(ds.filteredLessons.length)+" classes available ",1),is.searchTerm?((0,r.uX)(),(0,r.CE)("span",u," ("+(0,o.v_)(ds.searchResultsCount)+' results for "'+(0,o.v_)(is.searchTerm)+'") ',1)):(0,r.Q3)("",!0)])),(0,r.Lk)("button",{class:"btn btn-outline-light btn-sm position-relative ms-2",onClick:s[0]||(s[0]=(...e)=>ds.toggleCartPage&&ds.toggleCartPage(...e)),disabled:!ds.showCartButton},[s[22]||(s[22]=(0,r.Lk)("i",{class:"fas fa-shopping-cart me-1"},null,-1)),s[23]||(s[23]=(0,r.eW)(" Cart ",-1)),ds.totalItemsInCart>0?((0,r.uX)(),(0,r.CE)("span",h,(0,o.v_)(ds.totalItemsInCart),1)):(0,r.Q3)("",!0)],8,k)])])]),(0,r.Lk)("div",p,[is.showCartPage?((0,r.uX)(),(0,r.CE)("div",K,[(0,r.Lk)("div",H,[(0,r.Lk)("div",M,[(0,r.Lk)("div",Y,[s[52]||(s[52]=(0,r.Lk)("h1",{class:"mb-0"},[(0,r.Lk)("i",{class:"fas fa-shopping-cart me-2"}),(0,r.eW)(" Shopping Cart ")],-1)),(0,r.Lk)("button",{class:"btn btn-outline-primary",onClick:s[12]||(s[12]=(...e)=>ds.toggleCartPage&&ds.toggleCartPage(...e))},[...s[51]||(s[51]=[(0,r.Lk)("i",{class:"fas fa-arrow-left me-2"},null,-1),(0,r.eW)(" Back to Lessons ",-1)])])]),s[53]||(s[53]=(0,r.Lk)("p",{class:"text-muted"},"Review your selected classes and manage your cart",-1))])]),(0,r.Lk)("div",Z,[(0,r.Lk)("div",G,[0===is.cart.length?((0,r.uX)(),(0,r.CE)("div",ee,[s[55]||(s[55]=(0,r.Lk)("i",{class:"fas fa-shopping-cart empty-cart-icon text-muted mb-3"},null,-1)),s[56]||(s[56]=(0,r.Lk)("h3",{class:"text-muted"},"Your cart is empty",-1)),s[57]||(s[57]=(0,r.Lk)("p",{class:"text-muted mb-4"},"Add some classes to get started!",-1)),(0,r.Lk)("button",{class:"btn btn-primary",onClick:s[13]||(s[13]=(...e)=>ds.toggleCartPage&&ds.toggleCartPage(...e))},[...s[54]||(s[54]=[(0,r.Lk)("i",{class:"fas fa-book me-2"},null,-1),(0,r.eW)(" Browse Classes ",-1)])])])):((0,r.uX)(),(0,r.CE)("div",se,[(0,r.Lk)("div",te,[(0,r.Lk)("div",ae,[(0,r.Lk)("h5",re,[s[58]||(s[58]=(0,r.Lk)("i",{class:"fas fa-list me-2"},null,-1)),(0,r.eW)(" Cart Items ("+(0,o.v_)(ds.totalItemsInCart)+") ",1)])]),(0,r.Lk)("div",oe,[((0,r.uX)(!0),(0,r.CE)(r.FK,null,(0,r.pI)(is.cart,e=>((0,r.uX)(),(0,r.CE)("div",{key:e.id,class:"cart-item border-bottom p-4"},[(0,r.Lk)("div",ce,[(0,r.Lk)("div",le,[(0,r.Lk)("div",ne,[(0,r.Lk)("i",{class:(0,o.C4)([e.icon,"fa-2x text-primary me-3"])},null,2),(0,r.Lk)("div",null,[(0,r.Lk)("h5",ie,(0,o.v_)(e.subject),1),(0,r.Lk)("p",de,[s[59]||(s[59]=(0,r.Lk)("i",{class:"fas fa-map-marker-alt me-1"},null,-1)),(0,r.eW)(" "+(0,o.v_)(e.location),1)]),(0,r.Lk)("p",ue," £"+(0,o.v_)(e.price)+" per space ",1)])])]),(0,r.Lk)("div",me,[(0,r.Lk)("div",ke,[s[62]||(s[62]=(0,r.Lk)("label",{class:"form-label me-3 mb-0"},"Quantity:",-1)),(0,r.Lk)("div",he,[(0,r.Lk)("button",{class:"btn btn-outline-secondary",type:"button",onClick:s=>ds.decreaseQuantity(e),disabled:e.quantity<=1},[...s[60]||(s[60]=[(0,r.Lk)("i",{class:"fas fa-minus"},null,-1)])],8,pe),(0,r.Lk)("input",{type:"text",class:"form-control text-center",value:e.quantity,readonly:""},null,8,Le),(0,r.Lk)("button",{class:"btn btn-outline-secondary",type:"button",onClick:s=>ds.increaseQuantity(e)},[...s[61]||(s[61]=[(0,r.Lk)("i",{class:"fas fa-plus"},null,-1)])],8,be)])])]),(0,r.Lk)("div",fe,[(0,r.Lk)("div",ve,[(0,r.Lk)("div",ye,[(0,r.Lk)("div",ge," £"+(0,o.v_)((e.price*e.quantity).toFixed(2)),1),(0,r.Lk)("small",Ce," £"+(0,o.v_)(e.price)+" × "+(0,o.v_)(e.quantity),1)]),(0,r.Lk)("button",{class:"btn btn-outline-danger ms-3",onClick:s=>ds.removeFromCart(e),title:"Remove from cart"},[...s[63]||(s[63]=[(0,r.Lk)("i",{class:"fas fa-trash"},null,-1)])],8,we)])])])]))),128))]),(0,r.Lk)("div",xe,[(0,r.Lk)("div",_e,[s[65]||(s[65]=(0,r.Lk)("div",{class:"col-md-6"},[(0,r.Lk)("div",{class:"d-flex align-items-center"},[(0,r.Lk)("i",{class:"fas fa-info-circle text-primary me-2"}),(0,r.Lk)("small",{class:"text-muted"}," Items in cart will be held for 30 minutes ")])],-1)),(0,r.Lk)("div",Fe,[(0,r.Lk)("div",Ee,[s[64]||(s[64]=(0,r.eW)(" Total: ",-1)),(0,r.Lk)("span",Se,"£"+(0,o.v_)(ds.totalCartPrice.toFixed(2)),1)])])])])]),(0,r.Lk)("div",Te,[s[73]||(s[73]=(0,r.Lk)("div",{class:"card-header bg-light"},[(0,r.Lk)("h5",{class:"mb-0"},[(0,r.Lk)("i",{class:"fas fa-credit-card me-2"}),(0,r.eW)(" Checkout ")])],-1)),(0,r.Lk)("div",We,[(0,r.Lk)("form",{onSubmit:s[18]||(s[18]=(0,a.D$)((...e)=>ds.submitOrder&&ds.submitOrder(...e),["prevent"]))},[(0,r.Lk)("div",Pe,[(0,r.Lk)("div",Xe,[s[68]||(s[68]=(0,r.Lk)("h6",{class:"mb-3"},"Customer Information",-1)),(0,r.Lk)("div",Oe,[s[66]||(s[66]=(0,r.Lk)("label",{for:"customerName",class:"form-label"},[(0,r.eW)(" Full Name "),(0,r.Lk)("span",{class:"text-danger"},"*")],-1)),(0,r.bo)((0,r.Lk)("input",{type:"text",class:(0,o.C4)(["form-control",{"is-invalid":is.checkoutForm.errors.name,"is-valid":is.checkoutForm.name&&!is.checkoutForm.errors.name}]),id:"customerName","onUpdate:modelValue":s[14]||(s[14]=e=>is.checkoutForm.name=e),placeholder:"Enter your full name",onInput:s[15]||(s[15]=(...e)=>ds.validateName&&ds.validateName(...e))},null,34),[[a.Jo,is.checkoutForm.name]]),is.checkoutForm.errors.name?((0,r.uX)(),(0,r.CE)("div",je,(0,o.v_)(is.checkoutForm.errors.name),1)):((0,r.uX)(),(0,r.CE)("div",Ie," Letters and spaces only "))]),(0,r.Lk)("div",Ae,[s[67]||(s[67]=(0,r.Lk)("label",{for:"customerPhone",class:"form-label"},[(0,r.eW)(" Phone Number "),(0,r.Lk)("span",{class:"text-danger"},"*")],-1)),(0,r.bo)((0,r.Lk)("input",{type:"tel",class:(0,o.C4)(["form-control",{"is-invalid":is.checkoutForm.errors.phone,"is-valid":is.checkoutForm.phone&&!is.checkoutForm.errors.phone}]),id:"customerPhone","onUpdate:modelValue":s[16]||(s[16]=e=>is.checkoutForm.phone=e),placeholder:"Enter your phone number",onInput:s[17]||(s[17]=(...e)=>ds.validatePhone&&ds.validatePhone(...e))},null,34),[[a.Jo,is.checkoutForm.phone]]),is.checkoutForm.errors.phone?((0,r.uX)(),(0,r.CE)("div",Ne,(0,o.v_)(is.checkoutForm.errors.phone),1)):((0,r.uX)(),(0,r.CE)("div",qe," Numbers only (no spaces or special characters) "))])]),(0,r.Lk)("div",Qe,[s[72]||(s[72]=(0,r.Lk)("h6",{class:"mb-3"},"Order Summary",-1)),(0,r.Lk)("div",Be,[((0,r.uX)(!0),(0,r.CE)(r.FK,null,(0,r.pI)(is.cart,e=>((0,r.uX)(),(0,r.CE)("div",{key:e.id,class:"d-flex justify-content-between mb-2"},[(0,r.Lk)("div",null,[(0,r.Lk)("strong",null,(0,o.v_)(e.subject),1),s[69]||(s[69]=(0,r.Lk)("br",null,null,-1)),(0,r.Lk)("small",Re,(0,o.v_)(e.quantity)+" × £"+(0,o.v_)(e.price)+" • "+(0,o.v_)(e.location),1)]),(0,r.Lk)("div",Ve,[(0,r.Lk)("div",null,"£"+(0,o.v_)((e.price*e.quantity).toFixed(2)),1)])]))),128)),s[71]||(s[71]=(0,r.Lk)("hr",null,null,-1)),(0,r.Lk)("div",$e,[s[70]||(s[70]=(0,r.Lk)("span",null,"Total:",-1)),(0,r.Lk)("span",De,"£"+(0,o.v_)(ds.totalCartPrice.toFixed(2)),1)])])])]),(0,r.Lk)("div",Ue,[(0,r.Lk)("div",Je,[(0,r.Lk)("div",ze,[(0,r.Lk)("button",{type:"submit",class:"btn btn-success btn-lg",disabled:!ds.isCheckoutValid||is.checkoutForm.submitting},[is.checkoutForm.submitting?((0,r.uX)(),(0,r.CE)("span",He)):((0,r.uX)(),(0,r.CE)("i",Me)),(0,r.eW)(" "+(0,o.v_)(is.checkoutForm.submitting?"Processing...":"Complete Order"),1)],8,Ke)])])])],32)])]),is.checkoutForm.showConfirmation?((0,r.uX)(),(0,r.CE)("div",Ye,[(0,r.Lk)("div",Ze,[(0,r.Lk)("div",Ge,[s[80]||(s[80]=(0,r.Lk)("div",{class:"modal-header bg-success text-white"},[(0,r.Lk)("h5",{class:"modal-title"},[(0,r.Lk)("i",{class:"fas fa-check-circle me-2"}),(0,r.eW)(" Order Confirmed! ")])],-1)),(0,r.Lk)("div",es,[s[77]||(s[77]=(0,r.Lk)("i",{class:"fas fa-check-circle fa-4x text-success mb-3"},null,-1)),s[78]||(s[78]=(0,r.Lk)("h4",null,"Thank you for your order!",-1)),(0,r.Lk)("p",ss,[s[74]||(s[74]=(0,r.Lk)("strong",null,"Order Reference:",-1)),(0,r.eW)(" #"+(0,o.v_)(is.checkoutForm.orderReference),1)]),(0,r.Lk)("p",ts,[s[75]||(s[75]=(0,r.Lk)("strong",null,"Customer:",-1)),(0,r.eW)(" "+(0,o.v_)(is.checkoutForm.name),1)]),(0,r.Lk)("p",as,[s[76]||(s[76]=(0,r.Lk)("strong",null,"Total:",-1)),(0,r.eW)(" £"+(0,o.v_)(ds.totalCartPrice.toFixed(2)),1)]),s[79]||(s[79]=(0,r.Lk)("p",{class:"text-muted"}," A confirmation email has been sent to your registered phone number. Our team will contact you shortly to complete the registration process. ",-1))]),(0,r.Lk)("div",rs,[(0,r.Lk)("button",{type:"button",class:"btn btn-primary",onClick:s[19]||(s[19]=(...e)=>ds.confirmOrder&&ds.confirmOrder(...e))}," Continue Shopping ")])])])])):(0,r.Q3)("",!0),(0,r.Lk)("div",os,[(0,r.Lk)("div",cs,[(0,r.Lk)("div",ls,[(0,r.Lk)("button",{class:"btn btn-outline-secondary",onClick:s[20]||(s[20]=(...e)=>ds.clearCart&&ds.clearCart(...e))},[...s[81]||(s[81]=[(0,r.Lk)("i",{class:"fas fa-trash me-2"},null,-1),(0,r.eW)(" Clear Cart ",-1)])]),(0,r.Lk)("button",{class:"btn btn-outline-primary",onClick:s[21]||(s[21]=(...e)=>ds.toggleCartPage&&ds.toggleCartPage(...e))},[...s[82]||(s[82]=[(0,r.Lk)("i",{class:"fas fa-plus me-2"},null,-1),(0,r.eW)(" Add More Classes ",-1)])])])])])]))])])])):((0,r.uX)(),(0,r.CE)("div",L,[s[49]||(s[49]=(0,r.Lk)("div",{class:"row"},[(0,r.Lk)("div",{class:"col-12"},[(0,r.Lk)("h1",{class:"text-center mb-4"},"Available After School Classes"),(0,r.Lk)("p",{class:"text-center text-muted mb-5"}," Discover our wide range of after school activities and classes for students ")])],-1)),s[50]||(s[50]=(0,r.eW)(" // Handle live search input from user ",-1)),(0,r.Lk)("div",b,[(0,r.Lk)("div",f,[(0,r.Lk)("div",v,[(0,r.Lk)("div",y,[(0,r.Lk)("div",g,[s[26]||(s[26]=(0,r.Lk)("label",{class:"form-label fw-bold"},[(0,r.Lk)("i",{class:"fas fa-search me-1"}),(0,r.eW)(" Search Classes: ")],-1)),(0,r.Lk)("div",C,[(0,r.bo)((0,r.Lk)("input",{type:"text",class:"form-control search-input",placeholder:"Search by subject, location, price, or availability...","onUpdate:modelValue":s[1]||(s[1]=e=>is.searchTerm=e),onInput:s[2]||(s[2]=(...e)=>ds.handleSearch&&ds.handleSearch(...e))},null,544),[[a.Jo,is.searchTerm]]),is.searchTerm?((0,r.uX)(),(0,r.CE)("button",{key:0,class:"btn btn-outline-secondary search-clear-btn",type:"button",onClick:s[3]||(s[3]=(...e)=>ds.clearSearch&&ds.clearSearch(...e))},[...s[25]||(s[25]=[(0,r.Lk)("i",{class:"fas fa-times"},null,-1)])])):(0,r.Q3)("",!0)]),s[27]||(s[27]=(0,r.Lk)("div",{class:"form-text"}," Search as you type - results update instantly ",-1))]),(0,r.Lk)("div",w,[(0,r.Lk)("div",x,[(0,r.Lk)("div",_,[s[29]||(s[29]=(0,r.Lk)("label",{class:"form-label fw-bold"},[(0,r.Lk)("i",{class:"fas fa-sort me-1"}),(0,r.eW)(" Sort Lessons By: ")],-1)),(0,r.bo)((0,r.Lk)("select",{class:"form-select","onUpdate:modelValue":s[4]||(s[4]=e=>is.sortBy=e),onChange:s[5]||(s[5]=(...e)=>ds.sortLessons&&ds.sortLessons(...e))},[...s[28]||(s[28]=[(0,r.Lk)("option",{value:"subject"},"Subject",-1),(0,r.Lk)("option",{value:"location"},"Location",-1),(0,r.Lk)("option",{value:"price"},"Price",-1),(0,r.Lk)("option",{value:"space"},"Availability",-1)])],544),[[a.u1,is.sortBy]])]),(0,r.Lk)("div",F,[s[32]||(s[32]=(0,r.Lk)("label",{class:"form-label fw-bold"},[(0,r.Lk)("i",{class:"fas fa-arrow-up-arrow-down me-1"}),(0,r.eW)(" Sort Order: ")],-1)),(0,r.Lk)("div",E,[(0,r.bo)((0,r.Lk)("input",{type:"radio",class:"btn-check",name:"sortOrder",id:"asc",value:"asc","onUpdate:modelValue":s[6]||(s[6]=e=>is.sortOrder=e),onChange:s[7]||(s[7]=(...e)=>ds.sortLessons&&ds.sortLessons(...e))},null,544),[[a.XL,is.sortOrder]]),s[30]||(s[30]=(0,r.Lk)("label",{class:"btn btn-outline-primary",for:"asc"},[(0,r.Lk)("i",{class:"fas fa-arrow-up-a-z me-1"}),(0,r.eW)(" Ascending ")],-1)),(0,r.bo)((0,r.Lk)("input",{type:"radio",class:"btn-check",name:"sortOrder",id:"desc",value:"desc","onUpdate:modelValue":s[8]||(s[8]=e=>is.sortOrder=e),onChange:s[9]||(s[9]=(...e)=>ds.sortLessons&&ds.sortLessons(...e))},null,544),[[a.XL,is.sortOrder]]),s[31]||(s[31]=(0,r.Lk)("label",{class:"btn btn-outline-primary",for:"desc"},[(0,r.Lk)("i",{class:"fas fa-arrow-down-z-a me-1"}),(0,r.eW)(" Descending ")],-1))])])])])]),(0,r.Lk)("div",S,[(0,r.Lk)("div",T,[is.sortBy||is.searchTerm?((0,r.uX)(),(0,r.CE)("div",W,[(0,r.Lk)("small",null,[s[37]||(s[37]=(0,r.Lk)("i",{class:"fas fa-info-circle me-1"},null,-1)),is.searchTerm?((0,r.uX)(),(0,r.CE)("span",P,[(0,r.eW)(" Showing "+(0,o.v_)(ds.searchResultsCount)+' results for "',1),(0,r.Lk)("strong",null,(0,o.v_)(is.searchTerm),1),s[33]||(s[33]=(0,r.eW)('" ',-1)),is.sortBy?((0,r.uX)(),(0,r.CE)("span",X," • ")):(0,r.Q3)("",!0)])):(0,r.Q3)("",!0),is.sortBy?((0,r.uX)(),(0,r.CE)("span",O,[s[34]||(s[34]=(0,r.eW)(" Sorted by ",-1)),(0,r.Lk)("strong",null,(0,o.v_)(ds.getSortDisplayName(is.sortBy)),1),s[35]||(s[35]=(0,r.eW)(" in ",-1)),(0,r.Lk)("strong",null,(0,o.v_)("asc"===is.sortOrder?"Ascending":"Descending"),1),s[36]||(s[36]=(0,r.eW)(" order ",-1))])):(0,r.Q3)("",!0)])])):(0,r.Q3)("",!0)])])])])]),is.searchTerm&&0===ds.filteredLessons.length?((0,r.uX)(),(0,r.CE)("div",j,[s[41]||(s[41]=(0,r.Lk)("i",{class:"fas fa-search fa-4x text-muted mb-3"},null,-1)),s[42]||(s[42]=(0,r.Lk)("h3",{class:"text-muted"},"No classes found",-1)),(0,r.Lk)("p",I,[s[38]||(s[38]=(0,r.eW)(' No results found for "',-1)),(0,r.Lk)("strong",null,(0,o.v_)(is.searchTerm),1),s[39]||(s[39]=(0,r.eW)('". Try adjusting your search terms. ',-1))]),(0,r.Lk)("button",{class:"btn btn-primary",onClick:s[10]||(s[10]=(...e)=>ds.clearSearch&&ds.clearSearch(...e))},[...s[40]||(s[40]=[(0,r.Lk)("i",{class:"fas fa-times me-2"},null,-1),(0,r.eW)(" Clear Search ",-1)])])])):(0,r.Q3)("",!0),ds.totalItemsInCart>0&&(!is.searchTerm||ds.filteredLessons.length>0)?((0,r.uX)(),(0,r.CE)("div",A,[(0,r.Lk)("div",N,[(0,r.Lk)("div",null,[s[43]||(s[43]=(0,r.Lk)("i",{class:"fas fa-shopping-cart me-2"},null,-1)),(0,r.Lk)("strong",null,(0,o.v_)(ds.totalItemsInCart),1),s[44]||(s[44]=(0,r.eW)(" item(s) in cart • ",-1)),(0,r.Lk)("strong",null,"£"+(0,o.v_)(ds.totalCartPrice),1),s[45]||(s[45]=(0,r.eW)(" total ",-1))]),(0,r.Lk)("button",{class:"btn btn-sm btn-outline-success",onClick:s[11]||(s[11]=e=>is.showCartPage=!0)}," View Cart ")])])):(0,r.Q3)("",!0),!is.searchTerm||ds.filteredLessons.length>0?((0,r.uX)(),(0,r.Wv)(us,{key:2,lessons:ds.filteredLessons,onAddToCart:ds.addToCart},null,8,["lessons","onAddToCart"])):(0,r.Q3)("",!0),!is.searchTerm||ds.filteredLessons.length>0?((0,r.uX)(),(0,r.CE)("div",q,[(0,r.Lk)("div",Q,[(0,r.Lk)("div",B,[(0,r.Lk)("div",R,[(0,r.Lk)("div",V,[(0,r.Lk)("div",$,[(0,r.Lk)("h4",null,(0,o.v_)(ds.filteredLessons.length),1),(0,r.Lk)("p",D,(0,o.v_)(is.searchTerm?"Filtered":"Total")+" Classes ",1)]),(0,r.Lk)("div",U,[(0,r.Lk)("h4",null,(0,o.v_)(ds.totalSpaces),1),s[46]||(s[46]=(0,r.Lk)("p",{class:"text-muted mb-0"},"Total Spaces",-1))]),(0,r.Lk)("div",J,[(0,r.Lk)("h4",null,(0,o.v_)(ds.availableSpaces),1),s[47]||(s[47]=(0,r.Lk)("p",{class:"text-muted mb-0"},"Available Spaces",-1))]),(0,r.Lk)("div",z,[(0,r.Lk)("h4",null,(0,o.v_)(ds.totalItemsInCart),1),s[48]||(s[48]=(0,r.Lk)("p",{class:"text-muted mb-0"},"In Cart",-1))])])])])])])):(0,r.Q3)("",!0)]))])])}const is={class:"row"},ds={class:"card lesson-card h-100"},us={class:"card-body d-flex flex-column"},ms={class:"text-center mb-3"},ks={class:"card-title mb-2"},hs={class:"badge bg-primary subject-badge"},ps={class:"card-text text-muted text-center mb-3"},Ls={class:"lesson-details mb-3"},bs={class:"row text-center"},fs={class:"col-6"},vs={class:"fw-bold text-primary"},ys={class:"col-6"},gs={class:"price-tag"},Cs={class:"availability-section text-center mt-auto"},ws={class:"mb-2"},xs={key:0},_s={key:1,class:"text-danger"},Fs={class:"progress mb-3",style:{height:"8px"}},Es=["disabled","onClick"],Ss={key:0},Ts={key:1},Ws={key:0,class:"mt-2"},Ps={class:"text-success"};function Xs(e,s,t,a,c,l){return(0,r.uX)(),(0,r.CE)("div",is,[((0,r.uX)(!0),(0,r.CE)(r.FK,null,(0,r.pI)(t.lessons,t=>((0,r.uX)(),(0,r.CE)("div",{key:t._id,class:"col-xl-4 col-lg-6 col-md-6 mb-4"},[(0,r.Lk)("div",ds,[(0,r.Lk)("div",us,[(0,r.Lk)("div",ms,[(0,r.Lk)("i",{class:(0,o.C4)([t.icon,"lesson-icon"])},null,2),(0,r.Lk)("h5",ks,(0,o.v_)(t.subject),1),(0,r.Lk)("span",hs,(0,o.v_)(t.subject),1)]),(0,r.Lk)("p",ps,(0,o.v_)(t.description),1),(0,r.Lk)("div",Ls,[(0,r.Lk)("div",bs,[(0,r.Lk)("div",fs,[s[0]||(s[0]=(0,r.Lk)("small",{class:"text-muted"},[(0,r.Lk)("i",{class:"fas fa-map-marker-alt me-1"}),(0,r.eW)(" Location ")],-1)),(0,r.Lk)("div",vs,(0,o.v_)(t.location),1)]),(0,r.Lk)("div",ys,[s[1]||(s[1]=(0,r.Lk)("small",{class:"text-muted"},[(0,r.Lk)("i",{class:"fas fa-pound-sign me-1"}),(0,r.eW)(" Price ")],-1)),(0,r.Lk)("div",gs,"£"+(0,o.v_)(t.price),1)])])]),(0,r.Lk)("div",Cs,[(0,r.Lk)("div",ws,[s[3]||(s[3]=(0,r.Lk)("small",{class:"text-muted"},[(0,r.Lk)("i",{class:"fas fa-users me-1"}),(0,r.eW)(" Spaces Available ")],-1)),(0,r.Lk)("div",{class:(0,o.C4)([{"availability-low":t.space<=2&&t.space>0,"availability-good":t.space>2,"availability-full":5===t.space,"availability-none":0===t.space},"fw-bold"])},[t.space>0?((0,r.uX)(),(0,r.CE)("span",xs,(0,o.v_)(t.space)+" / 5 spaces ",1)):((0,r.uX)(),(0,r.CE)("span",_s,[...s[2]||(s[2]=[(0,r.Lk)("i",{class:"fas fa-times-circle me-1"},null,-1),(0,r.eW)(" Fully Booked ",-1)])]))],2)]),(0,r.Lk)("div",Fs,[(0,r.Lk)("div",{class:(0,o.C4)(["progress-bar",{"bg-danger":t.space<=2&&t.space>0,"bg-warning":t.space>2&&t.space<5,"bg-success":5===t.space,"bg-secondary":0===t.space}]),style:(0,o.Tr)({width:t.space/5*100+"%"})},null,6)]),(0,r.Lk)("button",{class:(0,o.C4)(["btn w-100",{"btn-primary":t.space>0,"btn-secondary":0===t.space}]),disabled:0===t.space,onClick:s=>e.$emit("add-to-cart",t)},[s[4]||(s[4]=(0,r.Lk)("i",{class:"fas fa-cart-plus me-2"},null,-1)),t.space>0?((0,r.uX)(),(0,r.CE)("span",Ss,"Add to Cart")):((0,r.uX)(),(0,r.CE)("span",Ts,"No Spaces Available"))],10,Es),t.space<5?((0,r.uX)(),(0,r.CE)("div",Ws,[(0,r.Lk)("small",Ps,[s[5]||(s[5]=(0,r.Lk)("i",{class:"fas fa-check-circle me-1"},null,-1)),(0,r.eW)(" "+(0,o.v_)(5-t.space)+" booked ",1)])])):(0,r.Q3)("",!0)])])])]))),128))])}var Os={name:"LessonList",props:{lessons:{type:Array,required:!0}},emits:["add-to-cart"]},js=t(241);const Is=(0,js.A)(Os,[["render",Xs],["__scopeId","data-v-b579ff7a"]]);var As=Is;const Ns="https://after-school-classes-backend-ojht.onrender.com";var qs={name:"App",components:{LessonList:As},data(){return{sortBy:"subject",sortOrder:"asc",showCartPage:!1,cart:[],searchTerm:"",searchTimeout:null,checkoutForm:{name:"",phone:"",errors:{name:"",phone:""},submitting:!1,showConfirmation:!1,orderReference:""},lessons:[]}},computed:{searchedLessons(){if(!this.searchTerm)return this.lessons;const e=this.searchTerm.toLowerCase();return this.lessons.filter(s=>s.subject&&s.subject.toLowerCase().includes(e)||s.location&&s.location.toLowerCase().includes(e)||s.price&&s.price.toString().includes(e)||s.space&&s.space.toString().includes(e)||s.description&&s.description.toLowerCase().includes(e))},filteredLessons(){let e=[...this.searchedLessons];return e.sort((e,s)=>{let t=e[this.sortBy],a=s[this.sortBy];return"string"===typeof t&&(t=t.toLowerCase()),"string"===typeof a&&(a=a.toLowerCase()),"asc"===this.sortOrder?t>a?1:-1:t<a?1:-1}),e},totalSpaces(){return 5*this.filteredLessons.length},availableSpaces(){return this.filteredLessons.reduce((e,s)=>e+(s.space||0),0)},totalItemsInCart(){return this.cart.reduce((e,s)=>e+s.quantity,0)},totalCartPrice(){return this.cart.reduce((e,s)=>e+s.price*s.quantity,0)},showCartButton(){return this.totalItemsInCart>0},isCheckoutValid(){return this.checkoutForm.name&&this.checkoutForm.phone&&!this.checkoutForm.errors.name&&!this.checkoutForm.errors.phone},searchResultsCount(){return this.filteredLessons.length}},methods:{sortLessons(){},getSortDisplayName(e){const s={subject:"Subject",location:"Location",price:"Price",space:"Availability"};return s[e]||e},handleSearch(){clearTimeout(this.searchTimeout),this.searchTimeout=setTimeout(()=>{console.log(`Searching for: "${this.searchTerm}" - Found ${this.searchResultsCount} results`)},300)},clearSearch(){this.searchTerm=""},async fetchLessons(){try{const e=await fetch(`${Ns}/lessons`);if(!e.ok)throw new Error("Failed to fetch lessons");const s=await e.json();this.lessons=s.map(e=>({...e,price:Number(e.price),space:Number(e.space)}))}catch(e){console.error("Error fetching lessons:",e),this.lessons=[]}},addToCart(e){if(e.space>0){const s=this.cart.find(s=>s.id===e._id);s?s.quantity+=1:this.cart.push({id:e._id,subject:e.subject,location:e.location,price:e.price,icon:e.icon,quantity:1}),e.space-=1}},toggleCartPage(){this.showCartPage=!this.showCartPage},increaseQuantity(e){const s=this.lessons.find(s=>s._id===e.id);s&&s.space>0&&(e.quantity+=1,s.space-=1)},decreaseQuantity(e){if(e.quantity>1){const s=this.lessons.find(s=>s._id===e.id);s&&(e.quantity-=1,s.space+=1)}},removeFromCart(e){const s=this.cart.findIndex(s=>s.id===e.id);if(-1!==s){const t=this.lessons.find(s=>s._id===e.id);t&&(t.space+=e.quantity),this.cart.splice(s,1)}},clearCart(){confirm("Are you sure you want to clear your cart? All items will be removed.")&&(this.cart.forEach(e=>{const s=this.lessons.find(s=>s._id===e.id);s&&(s.space+=e.quantity)}),this.cart=[])},validateName(){const e=/^[A-Za-z\s]+$/;this.checkoutForm.name.trim()?e.test(this.checkoutForm.name)?this.checkoutForm.errors.name="":this.checkoutForm.errors.name="Name must contain only letters and spaces":this.checkoutForm.errors.name="Name is required"},validatePhone(){const e=/^\d+$/;this.checkoutForm.phone.trim()?e.test(this.checkoutForm.phone)?this.checkoutForm.errors.phone="":this.checkoutForm.errors.phone="Phone number must contain only numbers":this.checkoutForm.errors.phone="Phone number is required"},async submitOrder(){if(this.validateName(),this.validatePhone(),this.isCheckoutValid){this.checkoutForm.submitting=!0;try{const e={name:this.checkoutForm.name,phone:this.checkoutForm.phone,lessonIDs:this.cart.map(e=>e.id),spaces:this.cart.map(e=>e.quantity)},s=await fetch(`${Ns}/orders`,{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify(e)});if(!s.ok)throw new Error("Failed to submit order");await s.json();for(const t of this.cart){const e=this.lessons.find(e=>e._id===t.id);e&&await fetch(`${Ns}/lessons/${t.id}`,{method:"PUT",headers:{"Content-Type":"application/json"},body:JSON.stringify({space:e.space})})}this.checkoutForm.orderReference="ORD"+Date.now().toString().slice(-6),this.checkoutForm.showConfirmation=!0}catch(e){console.error("Error submitting order:",e),alert("Error submitting order. Please try again.")}finally{this.checkoutForm.submitting=!1}}},confirmOrder(){this.cart=[],this.checkoutForm={name:"",phone:"",errors:{name:"",phone:""},submitting:!1,showConfirmation:!1,orderReference:""},this.showCartPage=!1,this.fetchLessons()}},mounted(){this.fetchLessons()}};const Qs=(0,js.A)(qs,[["render",ns],["__scopeId","data-v-e6b2e1ba"]]);var Bs=Qs;(0,a.Ef)(Bs).mount("#app")}},s={};function t(a){var r=s[a];if(void 0!==r)return r.exports;var o=s[a]={exports:{}};return e[a](o,o.exports,t),o.exports}t.m=e,function(){var e=[];t.O=function(s,a,r,o){if(!a){var c=1/0;for(d=0;d<e.length;d++){a=e[d][0],r=e[d][1],o=e[d][2];for(var l=!0,n=0;n<a.length;n++)(!1&o||c>=o)&&Object.keys(t.O).every(function(e){return t.O[e](a[n])})?a.splice(n--,1):(l=!1,o<c&&(c=o));if(l){e.splice(d--,1);var i=r();void 0!==i&&(s=i)}}return s}o=o||0;for(var d=e.length;d>0&&e[d-1][2]>o;d--)e[d]=e[d-1];e[d]=[a,r,o]}}(),function(){t.d=function(e,s){for(var a in s)t.o(s,a)&&!t.o(e,a)&&Object.defineProperty(e,a,{enumerable:!0,get:s[a]})}}(),function(){t.g=function(){if("object"===typeof globalThis)return globalThis;try{return this||new Function("return this")()}catch(e){if("object"===typeof window)return window}}()}(),function(){t.o=function(e,s){return Object.prototype.hasOwnProperty.call(e,s)}}(),function(){var e={524:0};t.O.j=function(s){return 0===e[s]};var s=function(s,a){var r,o,c=a[0],l=a[1],n=a[2],i=0;if(c.some(function(s){return 0!==e[s]})){for(r in l)t.o(l,r)&&(t.m[r]=l[r]);if(n)var d=n(t)}for(s&&s(a);i<c.length;i++)o=c[i],t.o(e,o)&&e[o]&&e[o][0](),e[o]=0;return t.O(d)},a=self["webpackChunkafter_school_classes_frontend"]=self["webpackChunkafter_school_classes_frontend"]||[];a.forEach(s.bind(null,0)),a.push=s.bind(null,a.push.bind(a))}();var a=t.O(void 0,[504],function(){return t(159)});a=t.O(a)})();
//# sourceMappingURL=app.fff8821e.js.map